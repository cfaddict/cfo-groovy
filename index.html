<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Groovy, Learn Another Language</title>

		<meta name="description" content="An introduction to the Groovy programming language">
		<meta name="author" content="Dan Vega">
		<meta name="author" content="Joshua Caito">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		
		<!-- playing around with google fonts -->
		<link href='http://fonts.googleapis.com/css?family=Signika' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>

		<style>
			.header {
				font-family: 'Signika', sans-serif;
				font-size:200px;
			}
			.slide-data {
				font-family: 'Roboto', sans-serif !important;
				font-size:28px !important;
				background-color: rgba(0,0,0,0.6);
				color:#fff;
				padding:40px 100px !important;
			}

			li {
				font-family: 'Roboto', sans-serif !important;
			}

			.slide-data h2 {
				color:#fff;
			}
			.table {
				font-family: 'Roboto', sans-serif !important;			
				font-size:18px !important;	
			}
			.slide-img {
				border:none !important;
				box-shadow: none !important;
			}
		</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">

				<section class="white" data-background="images/duke.jpg" data-background-size="cover" data-background-color="#000">
					<h1 class="white fancy shadow">Groovy</h1>
					<h3 class="white shadow">Learn Another Language</h3>
					<p>
						<small><a class="white" href="http://www.danvega.org">Dan Vega</a> / <a class="white" href="http:codecaito.blogspot.com">Joshua Caito</a></small>
						<br/>
						<small><a href="http://bit.ly/cfogroovy" class="white" target="_blank">http://bit.ly/cfogroovy</a></small>
					</p>

					<aside class="notes">
						We are linking to the github repo. Open this open and explain to the audience where everything is.
					</aside>
				</section>

				<section data-background="images/cleveland.jpg" data-background-size="cover" data-state="about-dv">
					<section>
						<ul class="slide-data fragment roll-in">
							<h2>Dan Vega</h2>
							<li>Senior Developer at FirstComp</li>
							<li>
								What keeps me busy
								<ul>
									<li>CrossFit / Running / Swimming</li>
									<li>Cleveland Sports Fan</li>
									<li>Groovy / Grails / Angular</li>
								</ul>
							</li>
							<li>
								Contact Information
								<ul>
									<li>blog: www: http://www.danvega.org</li>
									<li>email: danvega@gmail.com</li>
									<li>twitter: @cfaddict</li>
									<li>github: http://github.com/cfaddict/</li>
								</ul>
							</li>
						</ul>
					</section>
				</section>

				<!-- about josh -->
				<section data-background="images/Gallifrey.jpg" data-background-size="cover" >
					<h2>Joshua Caito</h2>
					<ul class="fragment roll-in">
						<li>Working as an IT professional for 11 years</li>
						<li>Working with ColdFusion since MX 7</li>
						<li>Doctor Who loving, 日本語 speaking, whiskey drinking Buddhist</li>
						<li><a class="white" href="http://codecaito.blogspot.com">CodeCaito.blogspot.com</a></li>
						<li>Twitter: <a class="white"  href="http://www.twitter.com/j_caito">@J_Caito</a></li>
					</ul>					
				</section>

				<!-- lets explain what we are going to do today -->
				<section>
					<h3>Presentation Overview</h3>
					<ol>
						<li><a href="#/">What is Groovy?</a></li>
						<li><a href="#/">Installation</a></li>
						<li><a href="#/">Data Types</a> (<a href="#/">Simple</a> & <a href="#/">Complex</a>)</li>
						<li><a href="#/">Groovy Truth</a></li>
						<li><a href="#/">Logical Branching</a>, <a href="#/">Loops</a>, & <a href="#/">Operators</a></li>
						<li><a href="#/">Closures</a></li>
						<li><a href="#/">Meta-Programming</a></li>
						<li><a href="#/">Testing (Spock Overview)</a></li>
						<li><a href="#/">Grails (Overview)</a></li>
						<li><a href="#/">IDE Support (Overview)</a></li>
						<li><a href="#/">Resources</a></li>
						<li><a href="#/">Q&A</a></li>
					</ol>

					<aside class="notes">
						Lets talk about why we here today. Why are we talking about Groovy.
					</aside>
				</section>

				<section>
					<img src="images/groovy-logo-medium.png" alt="" border="0" class="slide-img" width="625">
					
					<ul>
						<li>Open Source / Alternative language for the JVM</li>
						<li>Object Oriented, dynamic with functional flavor</li>
						<li>
							Inspired by languages like
							<ul>
								<li>Python</li>
								<li>Ruby</li>
								<li>Smalltalk</li>
							</ul>
						</li>
					</ul>

					<aside class="notes">
						<ul>
							<li>This wasn't a case of developing a language and then latter porting it over to run on the JVM. From the very beggining Groovy was designed to run on the JVM. </li>	
							<li>Because of that there is seemles interop with Java (create and call classes in java from groovy and vice versa)</li>
						</ul>
					</aside>

				</section>

				<section data-background-color="white">
					<img src="images/groovy-learn.png" alt="" border="0" class="slide-img" width="800">

					<ul>
						<li>Powerful Dynamic Language</li>
						<li>Easy to Learn</li>
						<li>Groovy as a Java superset</li>
						<li>Familiar Syntax for Java Developers</li>
					</ul>
					
					<aside class="notes">
						<ul>
							<li>Powerful dynamic language that is really easy to learn</li>
							<li>Groovy as a Java superset</li>
						</ul>
					</aside>
				</section>

				<section data-background-color="white">
					<img src="images/pivotal.png" alt="" class="slide-img">
					<aside class="notes">
						<ul>
							<li>Who makes Groovy?</li>
							<li>Guillaume Laforge</li>
						</ul>
					</aside>
				</section>

				<section data-background="images/downloads.png" data-background-size="">
					<aside class="notes">
						healthy activity on the mailing lists
						stack overflow
					</aside>
				</section>
				
				<section data-background-color="white">
					<img src="images/groovy_whouses.png" alt="" border="0" class="slide-img">
					<aside class="notes">
						target right here in MN
						netflix who as actually contributed software back to the groovy/grails community.
					</aside>
				</section>

				<section>
					<h2>What does a Java Class Look Like</h2>
					<img src="images/person.java.png" alt="" border="0" class="slide-img">
					<aside class="notes">
					</aside>
				</section>

				<section>
					<h2>What does a Groovy Class Look Like</h2>
					<img src="images/person.groovy.png" alt="" border="0" class="slide-img">
					
					<aside class="notes">
						<ul>
							<li>The point here is that java syntax for the most part is valid groovy syntax. The compiler for groovy compiles the code down to java byte code. There are a few exceptions where this isn't the case but there are ver few.</li>
							<li>Again most valid java syntax is valid groovy syntax but if all you're going to do is rename the file then keep writing java we want to show you some the things Groovy can do to help you be more productive</li>
							<li>most java code is valid groovy code</li>
							<li>any java developer is a groovy developer</li>
						</ul>
					</aside>
				</section>

				<section data-background-color="white">
					<img src="images/java_to_groovy.png" alt="" border="0" class="slide-img">
					<h3>From Java to Groovy Demo</h3>

					<aside class="notes">
						<ul>
							<li>POJO Plain old Java Object. This is a simple example and there is a lot of noise going on here.</li>
							<li>Person_start.groovy</li>
							<li>Comments / Imports</li>
							<li>Access Modifiers / Semi colons / return statements / parentheses</li>
							<li>Properties / getters & setters / constructors</li>
							<li>Mark a field private and you won't get the generated getters/setters (final will make it read only)</li>
						</ul>
					</aside>
				</section>				

				<section>
					<h3>Installation</h3>
					<a href="http://groovy.codehaus.org/download">http://groovy.codehaus.org/download</a><br/>
					<a class="fragment" href="http://gvmtool.net/">GVM</a>
					<p class="fragment">Groovy Console</p>
					<p class="fragment">Command Line Tools</p>
					<a class="fragment" href="http://groovy.codehaus.org/api/">http://groovy.codehaus.org/api</a>
					<aside class="notes">
						Cover GVM only enough to say there is a tool out there and provide a link at the end.
					</aside>
				</section>

				<section>
					<img src="images/groovyConsole.png" alt="" class="slide-img">
					<aside class="notes">
						<ul>
							<li>Demo features of GroovyConsole</li>
							<li>Options</li>
							<li>Run Some Code</li>
							<li>AST</li>
						</ul>
					</aside>
				</section>

				<section>
					<h1>Data Types</h1>
					<img src="images/data.jpg" alt="Nicolas Cage as Data from STTNG">
				</section>

				<section>
					<h2>Groovy is a <u>dynamic</u> language					
				</section>

				<section>
					<h3>What does that mean?</h3>
					<ul class="fragment">
						<li>We aren't restricted to strict type definitions or compiler checks</li>
						<li>We can keep the same fluid typing we enjoy from ColdFusion
							<pre><code data-trim>
def x = 11
x = [ foo : 'bar' ]
								</code></pre>
						</li>
						<li>Over all, less things to worry about<br/>[Run time validation still matters of course]</li>
					</ul>
				</section>

				<section> 
					<h3>The DEF Keyword</h3>
					<p>
						<h4>def serves two main purposes</h4>
						<ul>
							<li class="fragment">Generic Object instantiation<br/>[Well, sort of. We'll cover that in a moment...]</li>
							<li class="fragment">Scoping your variable</li>
						</ul>
					</p>
					<aside class="notes">
						Pull up the console here and go through some examples of how Groovy is doing it's best to cast objects correctly at runtime and that for this matter 'DEF' isn't all that necessary. Also go into an example of scoping.
						def is like var keyword in JavaScript and ColdFusion
					</aside>
				</section>

				<section data-background="images/simple.jpg" data-background-size="cover" data-background-transition="zoom">
					<ul>
						<br/>
						<li>Byte</li>
						<li>Short</li>
						<li>Integer</li>
						<li>Long</li>
						<li>Float</li>
						<li>Double</li>
						<li>Character</li>
						<li>Boolean</li>
						<li>String</li>
					</ul>
					<aside class="notes">Talk about the difference between primative types and their object counterparts. When in doubt, it's best to use the object.</aside>
				</section>

				<section>
					<h2>Groovy Strings</h2>
					<p>Groovy Strings (g-strings) are <u>really</u> powerful</p>
					<p>Think <code>##</code> but cooler, because it's Groovy</p>
					<aside class="notes">
						Whole lot of code examples here. Be sure to include 'lazy loading' examples
						
						G strings - yes they are reall called that
						You use intorpolation by putting a dollar in front of the g-string (hahahah)
						will you show regular expressions here? it would be a good time to at least make people they are here.
						what about templates? 
						you could show string getAt() overloaded operator def s = "this is a string" s[1] s[1..3] s[-1..-3]
					</aside>
				</section>


				<!-- Complex Data Types -->
				<section>
					<h1>Complex Data Types</h1>
					<ul class="fragment">
						<li>Dates</li>
						<li>Ranges</li>
						<li>Lists</li>
						<li>Maps</li>
						<li>Working with Collections</li>
					</ul>

					<aside class="notes">
						Groovy has native language support for collections, lists, maps and arrays.
					</aside>
				</section>

				<section data-background-color="white">
					<img src="images/homer-doh.png" alt="" class="slide-img">
					<h2>Working with dates in Java</h2>

					<aside class="notes">
						The Java date and time API's can be rather confusing when you first try to figure out how to use it.<br/><br/>

						Talk about Java and how awful the date api was and then the new Java 8 Date Spec<br/><br/>
					</aside>
					
				</section>


				<section>
					<h2>Working with Dates in Groovy</h2>
<pre class="fragment roll-in"><code data-trim>
def today = new Date() 
// Sat Apr 12 09:22:10 EDT 2014	
// java.util.Date

def day = new Date('05/19/2014')
//Mon May 19 00:00:00 EDT 2014
</code></pre>

<pre class="fragment roll-in"><code data-trim>
def today = new Date()
println today.format('MM/dd/yyyy')
// 04-12-2014
// java.lang.String

def today = new Date()
today.format('MM-dd-yyyy hh:mm a')
// 04-12-2014 09:31 AM
</code></pre>

<pre class="fragment roll-in"><code data-trim>
def today = new Date()
def yesterday = today - 1
def tomorrow = today + 1

// Sat Apr 12 09:33:01 EDT 2014
// Fri Apr 11 09:33:01 EDT 2014
// Sun Apr 13 09:33:01 EDT 2014
</code></pre>
				</section>	

				<section>
					<h2>Working with Dates</h2>
					<p>Groovy ways to iterate through 2 dates</p>
					<pre class=""><code data-trim>
Date start = new Date()
Date end = new Date() + 7

start.upto(end) { d ->
    println d
}

end.downto(start) { d ->
    println d
}

(start..end).each { d ->
    println d
}
					</code></pre>
				</section>


				<section>
					<h2>Time Category</h2>
<pre class="fragment roll-in"><code data-trim>
import groovy.time.TimeCategory

def now = new Date()
println now // Sat Apr 12 09:38:11 EDT 2014

use( TimeCategory ) {
    println 10.minute.from.now // Sat Apr 12 09:48:11 EDT 2014 
    println 10.hours.ago // Fri Apr 11 23:38:11 EDT 2014
    println 10.weeks.from.now // Sat Jun 21 00:00:00 EDT 2014
    println 3.days.ago // Wed Apr 09 00:00:00 EDT 2014
    println 1.year.from.now // Sun Apr 12 00:00:00 EDT 2015
}
</code></pre>

					<aside class="notes">
						Apply a number of methods to allow convenient Date/Time manipulation
					</aside>

				</section>

				<section data-background-color="white">
					<img src="images/Homer_simpsonwoohooo.gif" alt="" class="slide-img">
					<h2>Working with dates in Groovy</h2>
				</section>

				<section>
					<h2>Ranges</h2>
					<ul>
						<li>Ranges allow you to create a list of sequential values.</li>
						<li>These can be used as Lists since Range extends java.util.List.</li>
					</ul>
<pre class="fragment roll-in"><code data-trim>
def range = 1..10
println range
// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

def reverseRange = 10..1
println reverseRange
// [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]

println range.class.name
// groovy.lang.IntRange
</code></pre>
<pre class="fragment roll-in"><code data-trim>
def range = 1..10

println range.size() // 10
println range.get(2) // 3
println range.contains(5) // true
println range.from // 1
println range.to // 10
println range instanceof java.util.List // true
</code></pre>

				</section>
					

				<section>
					<h2>Ranges - Not just for numbers</h2>
<pre class="fragment roll-in"><code data-trim>
def range = 'a'..'p'
println range

// [a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p]
</pre></code>
<pre class="fragment roll-in"><code data-trim>
enum Days {
    MONDAY,TUESDAY,WEDNESDAY,THURSDAY,
    FRIDAY,SATURDAY,SUNDAY
}

def workWeek = Days.MONDAY..Days.FRIDAY
def weekend = Days.SATURDAY..Days.SUNDAY
def week = Days.MONDAY..Days.SUNDAY

println workWeek
println weekend
println week

// [MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY]
// [SATURDAY, SUNDAY]
// [MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY]
</pre></code>
				
				<aside class="notes">
					An enumeration is a collection of items that is a complete, ordered listing of all of the items in that collection.
				</aside>

				</section>

				<section>
					<h2>Lists</h2>
					A list is an ordered collection of objects (java.util.ArrayList)
<pre class="fragment roll-in"><code data-trim>
def list = []
println list.class.name
//java.util.ArrayList

def list = [1,2,3,4,5]
println list
// [1, 2, 3, 4, 5]

def list = [1,"two",3,"four",new Date(),["Mon","Tue","Wed"]]
println list
// [1, two, 3, four, Sat Apr 12 13:26:16 EDT 2014, [Mon, Tue, Wed]]
</code></pre>

					<aside class="notes">
						Resizable-array implementation of the List interface. Implements all optional list operations, and permits all elements, including null.
					</aside>
				</section>

				<section>
					<h2>List Manipulation</h2>
<pre class="fragment roll-in"><code data-trim>
def list = []

list.add(1)
list.putAt(1,2) //equivalent method to [] when value being changed
list[2] = 3
list.push(4)
list << 5

assert list == [1,2,3,4,5]
</code></pre>
<pre class="fragment roll-in"><code data-trim>
def list = [1,2,3,4,5]

assert list[1] == 2 // indexing starts at 0
assert list.getAt(1) == 2 //equivalent method to []
assert list.get(1) == 2 //alternative method
assert list[-1] == 5 //use negative indices to count from the end
</code></pre>
<pre class="fragment roll-in"><code data-trim>
def list = [1,2,3,4,5]

assert list.remove(2)
assert list == [1,2,4,5]
list.pop()
assert list == [1,2,4]

list.clear()
assert list == []
</code></pre>


				<aside class="notes">
					In groovy, the bitwise operators can be overridden with the leftShift (<<) and rightShift (>>) methods defined on the class. it's idiomatic groovy to use the leftShift method for append actions on strings, buffers, streams, arrays, etc and thats what you're seeing here.
				</aside>

				</section>

				<section>
					<h2>Maps</h2>
					A map is a mapping from unique unordered keys to values
<pre class="fragment roll-in"><code data-trim>
def map = [:]

// map.foo will always look for property foo so class will never work here
println map.class.name 

// java.util.LinkedHashMap
println map.getClass().name	
</code></pre>

<pre class="fragment roll-in"><code data-trim>
// order of keys irrelevant
def map = [first:'Dan',last:'Vega',email:'danvega@gmail.com']

println map
// [first:Dan, last:Vega, email:danvega@gmail.com]
</code></pre>

<pre class="fragment roll-in"><code data-trim>
assert [1:'a', 2:'b', 1:'c' ] == [1:'c', 2:'b'] //keys unique
</code></pre>
				
					<aside class="notes">
						Hash table and linked list implementation of the Map interface, with predictable iteration order. This implementation differs from HashMap in that it maintains a doubly-linked list running through all of its entries. This linked list defines the iteration ordering, which is normally the order in which keys were inserted into the map (insertion-order).
					</aside>

				</section>

				<section>
					<h2>Maps</h2>
					<p>Maps can be made up of complex data</p>
<pre class="fragment roll-in"><code data-trim>
class Person {
    String first
    String last
}

def p = new Person(first:"Dan",last:"Vega")

def map = [
    key:"value",
    numbers: [1,2,3,4,5],
    person: p,
    now: new Date()
]

println map
[key:value, numbers:[1, 2, 3, 4, 5], 
person:Person@60aed478, now:Sat Apr 12 15:40:19 EDT 2014]
</code></pre>					
				</section>

				<section>
					<h2>Map Keys</h2>
					Map keys are strings by default: [a:1] is equivalent to ["a":1]

<pre class="fragment roll-in"><code data-trim>
def map = [first:"Dan",last:"Vega"]
def keys = map.keySet()

println keys[0].class.name //java.lang.String
println keys[1].class.name //java.lang.String
</code></pre>
					<p class="fragment roll-in">If you really want a variable to become the key, you have to wrap it between parentheses: [(a):1]</p>
<pre class="fragment roll-in"><code data-trim>
def a = 1
def map = [first:"Dan",last:"Vega",(a):new Date()]
def keys = map.keySet()

println keys[0].class.name //java.lang.String
println keys[1].class.name //java.lang.String
println keys[2].class.name //java.lang.Integer
</code></pre>					
				</section>				

				<section>
					<h2>Maps</h2>
					It is easy to set/get data in a map
<pre class="fragment roll-in"><code data-trim>
def map = [first:"Dan",last:"Vega",email:'danvega@gmail.com']

map.first = "Daniel"
assert map.first == "Daniel"
map["first"] = "Dan"
assert map.first == "Dan"

assert map["first"] == "Dan"
assert map.get('first') == "Dan"
assert map.get('fullName','Dan Vega') == "Dan Vega"
</code></pre>				
					<p class="fragment roll-in">We can check the contents of a map with various methods</p>
<pre class="fragment roll-in"><code data-trim>
def map = [first:"Dan",last:"Vega",email:'danvega@gmail.com']

assert [:].isEmpty()
assert !map.isEmpty()
assert map.containsKey('email')
assert map.containsValue('danvega@gmail.com')
</code></pre>


				</section>

				<section data-background-color="white">	
					<img src="images/groovy-logo-medium.png" alt="" border="0" class="slide-img" width="625">
					<h2>Collections DEMO</h2>
					<aside class="notes">
						
					</aside>
				</section>		

				<section>
					<h2>Groovy Truth</h2>
					<h4>Groovy provides us with standard boolean operators for determining 'truthiness'</h4>
					<pre><code data-trim>
def a = true
def b = true
def c = false
assert a
assert a && b
assert a || c
assert !c
					</code></pre>
				</section>

				<section>
					<h4>But it also tries to coerce non-boolean objects into boolean examples</h4>
					<p>Empty collections are coerced to false.</p>
					<pre><code data-trim>
def numbers = [1,2,3]
assert numbers //true, as numbers is not empty
numbers = []
assert !numbers //true, as numbers is now an empty collection
					</code></pre>
					<br/><br/>
					<p>Iterators and Enumerations with no further elements are coerced to false.</p>
					<pre><code data-trim>
assert ![].iterator() // false because the Iterator is empty
assert [0].iterator() // true because the Iterator has a next element
def v = new Vector()
assert !v.elements()  // false because the Enumeration is empty
v.add(new Object())
assert v.elements()   // true because the Enumeration has more elements
					</code></pre>
				</section>

				<section>
					<p>Non-empty maps are coerced to true.</p>
					<pre><code data-trim>
assert ['one':1]
assert ![:]
					</code></pre>		
					<br/>
					<p>Matching regex patterns are coerced to true.</p>
					<pre><code data-trim>
assert ('Hello World' =~ /World/) //true as matcher has at least one match
					</code></pre>
					<br/>
					<p>Non-empty Strings, GStrings and CharSequences are coerced to true.</p>
					<pre><code data-trim>
// Strings
assert 'This is true'
assert !''
//GStrings
def s = ''
assert !("$s")
s = 'x'
assert ("$s")
					</code></pre>			
				</section>

				<section>
					<p>Non-zero numbers are coerced to true.</p>
					<pre><code data-trim>
assert !0 //yeah, 0s are false, like in Perl
assert 1  //this is also true for all other number types
					</code></pre>
					<br/>
					<p>Non-null object references are coerced to true.</p>
					<pre><code data-trim>
assert new Object()
assert !null
					</code></pre>
				</section>

				<section>
					<p><code>null</code> does not implicitly coerce to anything, it can only be used as a state test against other values</p>
					<pre><code data-trim>
assert null == false //Will fail
assert null == true //Also fails

assert !null == true //These test will pass as we're testing against state
assert !!null == false
					</code></pre>
				</section>

				<section data-background="images/logic.jpg" data-background-size="cover" data-background-transition="concave">.
					<h2 class="whiteFrame">Logical Branching, Loops, & Operators</h2>
				</section>	

				<section>
					<h2>Logical Branching</h2>
					<pre><code data-trim>
if( groovyIsAwesome )
	println( 'WOOT!' )
else
	youMustBeLying()
					</code></pre>
					<p class="fragment roll-in">Nothing new or exciting here...</p>
					<aside class="notes">Lead into the next slide with a talk about how we're all used to if/else statements, etc...</aside>
				</section>					

				<section>
					<h2>The Switch Statement</h2>
					<p>The <code>switch</code> statement in Groovy does allow us to do more than we're used to with ColdFusion</p>
					<pre><code data-trim>
def x = 'This is interesting'

switch( x ) {
    
    case ~/(?i)\bthis.*/:
        println 'first'

    case String:
        println 'second'

    case 'This is interesting':
        println 'third'
        break

}
					</code></pre>
					<aside class="notes">Go over the verbosity of the switch statement and run the live example</aside>
				</section>

				<section>
					<h2>Looping</h2>
					<div class="fragment roll-in">
						<p>Groovy supports syntax that seems more natural for looping</p>
						<pre><code data-trim>
0.upto(4) { println( 'Hello World!' ) }
4.times { println( 'Hi World!' ) }
						</code></pre>
					</div>
					<br/><br/>
					<div class="fragment roll-in">
						<p>it also supports some syntax we're not used to seeing</p>
						<pre><code data-trim>
for( x in 0..1 ) {println 'hi'}
						</code></pre>
					</div>
					<br/><br/>
					<div class="fragment roll-in">
						<p>as well as some things that should feel right at home</p>
						<pre><code data-trim>
def x = [ 1:'dog', 2:'cat', 3:'bird' ]
for( i in x ) { println i.value }
						</code></pre>			
					</div>
				</section>

				<section>
					<h2>Operators</h2>
					<p>The elvis operator</p>
					<img src="images/elvis.png" alt="elvis operator">
					<br/>
					<code>y = x ?: z</code><br/>is the equivelant of<br/><code>y = x ? x : z</code>					
				</section>

				<section>
					<p>that seems really neat (I know! Right?) but there are quite a few fun operators Groovy brings to the table</p>
					<ul>
						<li>Spread Operator - *.</li>
						<li>Safe Navigation Operator - ?.</li>
						<li>Regular Expression Operators - =~ / ==~</li>
						<li>Spaceship Operator - <=></li>
					</ul>
					<aside class="notes">Go through code examples here</aside>
				</section>

				<section>
					<h2>Overloading Operators</h2>
					<p>Groovy comes with a _ton_ of operators predefined you can also overload</p>
					<a href="http://groovy.codehaus.org/Operator+Overloading">http://groovy.codehaus.org/Operator+Overloading</a>
					<pre><code data-trim>
def x = 'Hello World!'
def y = x - 'World!'
println y
					</code></pre>
					<aside class="notes">
						Live example adding a plus method to custom classes
						http://groovy.codehaus.org/Operator+Overloading
					</aside>
				</section>

				<section>
					<h2>Closures</h2>
					<blockquote>
						Closures in Groovy totally remove verbosity in code and help create lightweight reusable pieces of code.
					</blockquote>

					<aside class="notes">
						Closures are a really powerful and important part of the Groovy programming langauge. They may be nice to haves in other languages but to really
						take advantage of Groovy you need to understand this stuff.<br/><br/>
						
						We have already looked at examples of closures (collections)<br/><br/>

						In this section we are going to look at what they are, how to create them and how use them to elegantly implement some design patterns.

					</aside>
				</section>

				<section>
					<h2>The Traditional Way</h2>
					<pre class="fragment roll-in"><code data-trim>
def myNumbers = [1,2,3,4,5,6,7,8,9,10]

def totalNumbers(numbers){
    def total = 0;

    for(number in numbers){
        total += number
    }

    total
}

// 55
println totalNumbers(myNumbers)
					</code></pre>

					<aside class="notes">
						Start with a scenario, you're working on an application and your boss comes to you with a request. We need a function that can total
						any numbers that are passed to it.<br/><br/>
					</aside>
				</section>

				<section>
					<h2>Total Even Numbers</h2>
					<pre class="fragment roll-in"><code data-trim>
def myNumbers = [1,2,3,4,5,6,7,8,9,10]

def totalEvenNumbers(numbers){
    def total = 0;
    for(number in numbers){
        if(number % 2 == 0) total += number
    }
    total
}

// 30
println totalEvenNumbers(myNumbers)
					</code></pre>

					<aside class="notes">
						
					</aside>
				</section>				

				<section>
					<h2>Total Odd Numbers</h2>
					<pre class="fragment roll-in"><code data-trim>
def myNumbers = [1,2,3,4,5,6,7,8,9,10]

def totalOddNumbers(numbers){
    def total = 0;
    for(number in numbers){
        if(number % 2 != 0) total += number
    }
    total
}

// 30
println totalOddNumbers(myNumbers)
					</code></pre>

					<aside class="notes">
						
					</aside>
				</section>



				<section>
					<h2>The Groovy Way</h2>
					<pre class="fragment roll-in"><code data-trim>
def myNumbers = [1,2,3,4,5,6,7,8,9,10]

def totalNumbers(numbers, selector){
    def total = 0;
    for(number in numbers){
        if(selector(number)){
            total += number
        }
    }
    total
}

println totalNumbers(myNumbers, { true } ) // 55
println totalNumbers(myNumbers, { it % 2 == 0 } ) // 30
println totalNumbers(myNumbers, { it % 2 != 0 } ) // 25						
					</code></pre>

					<pre class="fragment roll-in"><code data-trim>
println totalNumbers(myNumbers) { true } // 55
println totalNumbers(myNumbers) { it % 2 == 0 } // 30
println totalNumbers(myNumbers) { it % 2 != 0 } // 25
					</code></pre>
				</section>

				<section>
					<h2>Closure Basics</h2>
					<ul>
						<li>A block of code</li>
						<li>May be passed as arguments</li>
						<li>May accept parameters</li>
						<li>May return a value</li>
					</ul>
					<pre class="fragment roll-in"><code data-trim>
// the times method accepts a closure as an argument
3.times( {println "Hello Closures!"} )						
					</code></pre>
					<pre class="fragment roll-in"><code data-trim>
// If the last argument is a closure you can omit the parentheses
3.times {println "Hello Closures!"}
					</code></pre>
					<pre class="fragment roll-in"><code data-trim>
def myClosure = {
    println "Hello Closures!"
}

// we could call it directly 
myClosure()

// or pass it around as a method argument
3.times(myClosure)
</code></pre>

					<aside class="notes">
						A closure is a block of code that is a first class object that can be passed around.
					</aside>
				</section>

				<section>
					<h2>Closure arguments</h2>
					<pre class="fragment roll-in"><code data-trim>
3.times {
    // if i dont declare an argument list
    // the closure accepts 1 parameter and its called it
    println it
}

// 0
// 1
// 2
					</code></pre>

					<pre class="fragment roll-in"><code data-trim>
3.times { number ->
    println number
}
					</code></pre>

					<pre class="fragment roll-in"><code data-trim>
3.times { int number ->
    println number
}
					</code></pre>					

					<pre class="fragment roll-in"><code data-trim>
printFullName = { firstName,lastName ->
    println "${firstName} ${lastName}"
}

printFullName("Dan","Vega")
					</code></pre>

					<aside class="notes">
						it is not a reservd word or keyword
					</aside>		
				</section>

				<section>
					<h2>Closures</h2>
					<p>Hopefully this code starts to make sense now</p>
					<pre class=""><code data-trim>
def list = ["one","two","three","four","five"]

// loop over a list
list.each {
    println it
}

def map = [first:"Dan",last:"Vega",company:"FirstComp"]

// loop over a map
map.each { key, value ->
    println "${key}: ${value}"
}
					</code></pre>
				</section>

				<section>
					<h2>Curried Closure</h2>
					<p>Closures with prebound parameters are called curried closures. When we curry a closure, we're asking the parameters to be prebound.</p>
					<pre class="fragment roll-in"><code data-trim>
def addNumbers = { x, y -> x + y }
def addToTen = addNumbers.curry(10)
assert 14 == addToTen(4)
					</code></pre>					
					<pre class="fragment roll-in"><code data-trim>
addNumbers.rcurry(10)
addNumbers.ncurry(index,obj)
					</code></pre>
				</section>


				<section>
					<h2>Closure Scope</h2>
					<ul>
						<li><strong>this</strong>: refers to the instance of the enclosing class where a Closure is defined</li>
						<li><strong>owner</strong>: the enclosing object (this or a surrounding Closure)</li>
						<li><strong>delegate</strong>: by default the same as owner, but changeable</li>
					</ul>
					<pre class="fragment roll-in"><code data-trim>
class Foo {

   def closure = {
       println "${this.class.name},${owner.class.name},${delegate.class.name}"
       def innerClosure = {   
           //delegate = owner.delegate 
           println "${this.class.name},${owner.class.name},${delegate.class.name}"
       }
       innerClosure()
   }
   
}

def foo = new Foo().closure()
					</code></pre>
				</section>				


				<section>
					<h2>Closure Delegation</h2>
					<p>Groovy Closures support method delegation, and provide capabilities for method dispatching-much like JavaScript's support for prototypal inheritance.</p>
					<pre class="fragment roll-in"><code data-trim>
class ClosureDemo {
    def foo() {
        def c = {
            write 'hello from foo.c'
        }
        c()
    }
}

def demo = new ClosureDemo()
demo.foo()
					</code></pre>

					<aside class="notes">
						when groovy executes a closure it will try to resolve stuff first within the closure, then in the owner scope, and finally in the delegate.  this ordering is only the default can be changed by setting the closures resolve strategy
   						the ability to delegate is what makes DSL's possible and extremly powerful inside groovy
					</aside>

				</section>

				<section data-background-color="white">
					<h2>Closure Demos</h2>
					<img src="images/legos.jpg" alt="" class="slide-img" width="900">
					<aside class="notes">
						8-10 min of demo<br/>
						remember return statement are optional. this is not just true of closures but methods as well.
						talk about delegates
						closure coercion
						curry example

						take care of properly opening / closing resource (new File())
					</aside>
				</section>				

				<section data-background-color="black">
					<h1 class="white">Meta-Programming</h1>
					<img style="border-style: none" src="images/youve-got-the-touch.jpg" alt="Optimus Prime">
				</section>

				<section>
					<h4>Meta-Programming is one of the coolest features of Groovy!</h4>
					<p>With Meta-Programming, you can extend, modify, or tweak basically any object at <u>runtime</u>.</p>
					<p>Groovy provides us this mechanism with the ExpandoMetaClass</p>
					<pre>Every java.lang.Class is supplied with a special "metaClass" property that will give you a reference to an ExpandoMetaClass instance.</pre>

					<aside class="notes">
						what about a demo showing how the expando class works
					</aside>
				</section>

				<section>
					<p>Straight from the source, here's the list of all the stuff you can do with the ExpandoMetaClass</p>
					<ul class="smaller">
						<li>Borrowing Methods — Borrowing methods from other classes </li>
						<li>Constructors — Adding or overriding constructors </li>
						<li>Domain-Specific Language </li>
						<li>Dynamic Method Names — Dynamically creating method names </li>
						<li>GroovyObject Methods — Overriding invokeMethod, getProperty and setProperty </li>
						<li>Interfaces — Adding methods on interfaces </li>
						<li>Methods — Adding or overriding instance methods </li>
						<li>Overriding static invokeMethod — Overriding invokeMethod for static methods </li>
						<li>Properties — Adding or overriding properties </li>
						<li>Runtime Discovery — Overriding invokeMethod for static methods </li>
						<li>Static Methods — Adding or overriding static methods </li>
					</ul>
					<aside class="notes">Be sure to talk about how we're going to focus on a few of these today</aside>
				</section>

				<section>
					<h4>Adding methods dynamically</h4>
					<pre><code data-trim>
class Developer { String firstName ->
	String lastName
	def makeExcuse(){ println "I'm compiling!" }
}

josh = new Developer( firstName : 'Joshua', lastName : 'Caito' )

Developer.metaClass.work = { Integer hours ->
    println """I promise I'll work ${hours} hours today
    or my name isn't ${firstName} ${lastName}!"""
}

dan = new Developer( firstName : 'Dan', lastName : 'Vega' )

try{ josh.work(3) } catch( e ) { josh.makeExcuse() }
dan.work(8)  			
					</code></pre>
				</section>

				<section>
					<h4>Borrowing Methods</h4>
					<pre><code data-trim>
class Manager { 
    String firstName = 'Big'
    String lastName = 'Cheese'
}

boss = new Manager()

try{ boss.work(3) } catch( e ) {
    println "I've delegated that, I swear!"
}

boss.metaClass.work = josh.&makeExcuse
boss.work()
					</code></pre>
				</section>

				<section>
					<h2>Dynamically adding properties</h2>
					<pre><code data-trim>
josh.metaClass.isTeamLead = true
gettingARaise = josh.isTeamLead ?: false 
println "Josh is getting a raise? ${gettingARaise}"
					</code></pre>
				</section>

				<section>
					<h2>Adding Missing Methods</h2>
					<p>Using the ExpandoMetaClass, we can also invoke the <code>methodMissing()</code> method</p>
					<p>This can be <u>VERY</u> useful</p>
					<img src="images/meta.jpg" alt="So META!">
					<aside class="notes">
						Thinking this is the first of a few code examples for this:

class QA {
    String FirstName
    String LastName
    List<String> expertise = [ 'Bugs', 'Issues', 'Errors' ]
    
    QA() {
        def mClass = new ExpandoMetaClass( QA, false, true ) //Add object, do not register, allow changes after init
        mClass.initialize()
        this.metaClass = mClass
    }
    
    def methodMissing(String methodName, arguments) {
        if( methodName.startsWith( 'locate' ) || methodName.startsWith( 'gripeAbout' ) ) {
            def listVar = methodName.startsWith( 'locate' ) ? methodName[6..-1] : methodName[10..-1]
            this.metaClass."$methodName" = {-> listVar + ' √' }
            listVar + ' √'
        } else {
            throw new MissingMethodException(methodName, this.class, arguments)
        }
    }
}

megan = new QA( firstName : 'Megan', lastName : 'Redacted' )
assert 'Bugs √' == megan.locateBugs()
assert 'Issues √' == megan.gripeAboutIssues()
assert 'Errors √' == megan.locateErrors()

Found example code at: http://mrhaki.blogspot.com/2009/11/groovy-goodness-create-dynamic-methods.html and will be sure to credit

Going to _really_ go through some examples here throughout and make sure people ask questions as they have them.... wondering if the closures conversation should go first just because of how much they are used here....

Also going to briefly cover DSLs and the whens and whys you'd want to use meta-programming I.E. don't just start mucking with every damn object as it's hard to trace when / how meta methods got registered.
					</aside>
				</section>

				<!--
				<section data-background-color="white">
					<h2>Builders</h2>
					<img src="images/legos.jpg" alt="" class="slide-img" width="900">
					<aside class="notes">
						this could be builders + templates if i need more time
					</aside>
				</section>
				-->


				<section class="white" data-background="images/landscape.png" data-background-size="cover">
					<aside class="notes">
						The Groovy Landscape
						Grails/Gradle/Spock
						check the wiki for links to all of these resources
					</aside>
				</section>

				<section data-background-color="white">
					<img src="images/grails-logo.jpg" alt="www.grails.org" class="slide-img">
					<br/>
					<ul>
						<li>Grails is an Open Source, full stack, web application framework for the JVM.</li>
						<li>It takes advantage of the Groovy programming language and convention over configuration</li>
						<li>Rapid Application Development</li>
						<li>Current version 2.3 / Java 8 Support</li>
						<li>Inspired by Ruby on Rails, Django & others</li>
					</ul>
					<aside class="notes">
						What does full stack mean? 
						build tool / ORM / dependency injection / runtime container / testing framework / plugin system / etc...
					</aside>
				</section>

				<section data-background-color="white">
					<h2>The Grails Stack</h2>
					<img src="images/grails_stack.png" alt="" class="slide-img">
					<aside class="notes">
						It wasn't the case that Grails went out and built their own ORM/DI/Testing
						uses the best of breeds/proven technologies that are out there which is really important
						
						maybe mention GORM / the layer on top of hibernate 
						you could use casandra or monogo db if you wanted

						talk about DI / Spring and how you really don't need to do any configuring at all

					</aside>
				</section>

				<section>
					<h2>Getting Started</h2>
					<ul>
						<li>Download <a href="http://www.grails.org">http://www.grails.org</a></li>
						<li>Current Version 2.3.8</li>
						<li>Create A New Project using your IDE</li>
						<li>grails <a href="http://grails.org/doc/2.3.x/ref/Command%20Line/create-app.html">create-app</a></li>
					</ul>
					<aside class="notes">
						Getting Started (download)
						run command line tools
						IDEs also support (GroovyGrailsToolSuite/Intellij/)
						grails create-app

						maybe put danvega on github and link to that? might be easier to see folder structure there

					</aside>
				</section>

				<section data-background-color="white">
					<h2>Grails Plugins</h2>
					<img src="images/plugin.jpg" alt="" class="slide-img">
					<aside class="notes">						
					</aside>
				</section>

				<section data-background-color="white">
					<img src="images/gradle.png" alt="Gradle" class="slide-img">
					<br/>
					<ul>
						<li>Build tool with built in dependency management</li>
						<li>Conventions through plugins</li>
						<li>Full access to tasks and dependency tree</li>
						<li>
							Easy to write your own tasks
							<ul>
								<li>Either in the build file</li>
								<li>or view Groovy/Java classes</li>
							</ul>
						</li>
						<li>Default build tool for Android</li>
						<li><a href="http://www.gradle.org" target="_blank">http://www.gradle.org</a></li>
					</ul>
				</section>


				<section>
					<h2>Unit Testing & Testing With Spock</h2>
					<img src="images/spock.jpg" alt="spock">
					<aside class="notes">This will be a quick code demo providing time</aside>
				</section>

				<section>
					<h2>IDE Support</h2>
					<a href="http://www.jetbrains.com/idea/">IntelliJ</a><br/>
					<a href="http://www.sublimetext.com/">Sublime Text</a><br/>
					<a href="https://www.eclipse.org/">Eclipse</a>
				</section>

				<section>
					<h2>Resources</h2>
					<a href="https://github.com/cfaddict/cfo-groovy/wiki/Resoures">https://github.com/cfaddict/cfo-groovy/wiki/Resoures</a>
				</section>

				<section>
					<h1>THE END / Q&A</h1>
					<h3>BY Josh Caito / Dan Vega</h3>
					<p class="">If you liked our presentation (or even if you didn't), please be sure to leave feedback!</p>
				</section>				

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
